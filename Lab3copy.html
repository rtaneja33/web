<html>
<head>
	<title> Lab 3 My Server </title>
	<style>
		#sbar{
			text-align: center;
			font-size: 30px;
			padding-top: 180px;
   			 font-color: aqua;
   			 font-weight: bold;
   			}
   		#queryInput{
   			width: 400px;
   		}
   		#inputs{
   			text-align: center;
   			padding-top: 20px;
   			padding-left: 50px;
   			font-weight: bold;
   			font-size: 22px;
   		}
   		#newtype{
   			text-align: center;
   			padding-top: 50px;
   			padding-left: 50px;
   			font-weight: bold;
   			font-size: 22px;

   		}
	</style>
	<script type="text/javascript">
		var timeout = null;
		window.onload=function(){

		var textInput = document.getElementById('queryInput');


		// Init a timeout variable to be used below
		
		// Listen for keystroke events
		textInput.onkeyup = function (e) {

		    // Clear the timeout if it has already been set.
		    // This will prevent the previous task from executing
		    // if it has been less than <MILLISECONDS>
		    clearTimeout(timeout);

		    // Make a new timeout set to go off in 800ms
		    timeout = setTimeout(showHint(textInput.value), 1000);
		}


		}
		// function whenClicked(){
		// 		var xhttp = new XMLHttpRequest();
		// 		var search = queryInput.value;
		// 		// for(var x =0; x < 4; x++)
		// 		// 		{
							
		// 		// 		}
		// 		xhttp.onreadystatechange = function(){
		// 			if(this.readyState ==4 && this.status == 200)
		// 			{
		// 				alert(this.responseText);

		// 				document.getElementById("outputDiv").innerHTML = (this.responseText);
		// 			}}
					
		// 			xhttp.open("GET", "https://tmrudwick-web.herokuapp.com/SearchQuery/search.php?query=" + search, true);
		// 			xhttp.send();
		// 		}
			function doAction(str){
				//var myVar=null;
		
			}

			function showHint(str){
	    if (str.length == 0) { 
	        document.getElementById("inputs").innerHTML = "";
	        return;
	    } else {
	        var xmlhttp = new XMLHttpRequest();
	        xmlhttp.onreadystatechange = function() {
	            if (this.readyState == 4 && this.status == 200) {
	            	var stringg = "";
	                //document.getElementById("txtHint").innerHTML = this.responseText;
	                var string = this.responseText.split(" ");
	                document.getElementById("option1").innerHTML =string[1];
	                	document.getElementById("option2").innerHTML = string[2];
	                    document.getElementById("option3").innerHTML = string[3];
 						document.getElementById("option4").innerHTML = string[4];
 						stringg = string[1]  + "</br>" + string[2] + "</br>" +string[3] + "</br>" + string[4];
 						document.getElementById("inputs").innerHTML = stringg;





	               // document.getElementById("option1").innerHTML = "hola";
	               // var op = document.createElement("OPTION");


	            }
	        }; 
	        xmlhttp.open("GET", "https://tmrudwick-web.herokuapp.com/SearchQuery/search.php?query=" + str, true);
	        xmlhttp.send();
	    }
		}
		

	</script>
</head>

<body>
	<div style="background:url(http://htmlcolorcodes.com/assets/images/html-color-codes-color-tutorials-hero-00e10b1f.jpg) center center no-repeat;width:screen.width;height:1500px;color:black;font-size:18px;solid #ccc;">
	<!-- <div id = "sbar">Type Anything!         <input id= "queryInput" list="suggestions" onkeyup="doAction(this.value)"></div> -->
	<div id = "sbar">Type Anything!         <input id= "queryInput" list="suggestions"></div>
<!-- 	<div id = "sbar">Type Anything!         <input id= "queryInput" list="suggestions" onkeyup="showHint(this.value)"></div> -->
	<div id="newtype">Words containing this fragment: </div>
	<div id="inputs"></div>
<!-- 	<p>Suggestions: <span id="txtHint"></span></p> -->
	<datalist id="suggestions">
		<option id = "option1"></option>
		<option id = "option2"></option>
		<option id = "option3"></option>
		<option id = "option4"></option>
	</datalist>
	<!-- //<button id="sendQueryButton">Send AJAX Request</button> -->
	<div id = "outputDiv"></div>
	</div>
</body>

</html>